<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diego Crisafulli – Portfolio</title>
    <!-- Link to the stylesheet for styling -->
    <link rel="stylesheet" href="style.css">
    <!-- Chat config: define window.CHAT_API_BASE before app code runs -->
    <script src="./chat-config.js"></script>
    <!-- Include React and React‑DOM from a CDN -->
    <script crossorigin src="https://unpkg.com/react@17/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
    <!-- Include Babel to allow writing JSX in the browser -->
    <script crossorigin src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
</head>
<body>
    <!-- Root element where our React app will mount -->
    <div id="root"></div>

    <!-- React application code -->
    <script type="text/babel">
        /*
         * Top navigation bar component. Renders links that scroll to sections
         * within the page. The component sticks to the top of the viewport
         * so it remains visible when scrolling.
         */
        function NavBar(props) {
            // Local state for mobile menu toggling
            const [menuOpen, setMenuOpen] = React.useState(false);
            // Close the menu when a link is clicked
            const handleLinkClick = () => setMenuOpen(false);
            return (
                <nav className={`navbar ${menuOpen ? 'active' : ''}`}>                    
                    <div className="nav‑logo">Diego Crisafulli</div>
                    {/* Hamburger menu button for small screens */}
                    <button
                        className="menu‑toggle"
                        aria-label="Toggle navigation"
                        onClick={() => setMenuOpen((prev) => !prev)}
                    >
                        {menuOpen ? '\u00d7' : '\u2630'}
                    </button>
                    <ul className="nav‑links" onClick={handleLinkClick}>
                        <li><a href="#home">Home</a></li>
                        <li><a href="#about">About</a></li>
                        <li><a href="#skills">Skills</a></li>
                        <li><a href="#experience">Experience</a></li>
                        <li><a href="#projects">Projects</a></li>
                        <li><a href="#education">Education</a></li>
                        <li><a href="#contact">Contact</a></li>
                    </ul>
                    {/* Dark mode toggle button */}
                    <button className="dark‑mode‑toggle" onClick={props.toggleDarkMode}>
                        {props.darkMode ? 'Light Mode' : 'Dark Mode'}
                    </button>
                </nav>
            );
        }

        /*
         * Section component used for layout. Accepts an id, title and children.
         * Helps to keep the markup for each section clean and consistent.
         */
        function Section({ id, title, children }) {
            return (
                <section id={id} className="section">
                    <h2>{title}</h2>
                    <div className="section‑content">{children}</div>
                </section>
            );
        }

                // The main App component. Assembles all sections and the navigation bar.
                function App() {
                        // Initialize dark mode from localStorage or system preference
                        const prefers = typeof window !== 'undefined' && window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
                        const storedPref = typeof window !== 'undefined' ? window.localStorage.getItem('darkMode') : null;
                        const initialDark = storedPref === null ? prefers : storedPref === 'true';
                        const [darkMode, setDarkMode] = React.useState(initialDark);
                        React.useEffect(() => {
                            const root = document.documentElement; // <html>
                            if (darkMode) root.classList.add('dark-mode'); else root.classList.remove('dark-mode');
                            window.localStorage.setItem('darkMode', darkMode ? 'true' : 'false');
                        }, [darkMode]);
                        const toggleDarkMode = () => setDarkMode(d => !d);

            // State for the chatbot open/closed status and chat messages
            const [chatOpen, setChatOpen] = React.useState(false);
            const [chatInput, setChatInput] = React.useState('');
            const [messages, setMessages] = React.useState([
                { from: 'bot', text: 'Hello! I\'m your personal assistant. How can I help you?' }
            ]);

            // Replace the ChatGPT helper with a Gemini helper. This function calls
            // Google’s Gemini generative API using the supplied API key. The API
            // key is embedded directly in the endpoint URL as required by the
            // Gemini REST specification. If the call fails, a fallback message is
            // returned. See Google’s documentation for additional details【744721557993995†L420-L448】.
            async function getAIReply(message) {
                // Resolve API base: prefer configured base; fallback to localhost in dev.
                const configured = (window.CHAT_API_BASE || '').trim();
                const base = (configured || (location.hostname === 'localhost' ? 'http://localhost:8787' : '')).replace(/\/$/, '');
                if (!base) {
                    return 'Assistant is not configured yet.';
                }
                const url = `${base}/api/chat`;
                try {
                    const response = await fetch(url, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ message })
                    });
                    if (!response.ok) {
                        let detail = '';
                        try { detail = await response.text(); } catch {}
                        console.error('Proxy error:', detail || response.statusText);
                        // Show a short, actionable message to the user
                        return 'Assistant temporarily unavailable.';
                    }
                    const data = await response.json();
                    return (data.reply || 'Sorry, no response available.');
                } catch (error) {
                    console.error('Proxy call failed:', error);
                    return 'Network error contacting assistant.';
                }
            }

            // Handle sending a chat message. This helper is invoked when the user
            // presses Enter or clicks the Send button. It appends the user’s
            // message to the chat, clears the input, calls getAIReply() and
            // appends the bot’s response.
            const handleChatSend = async () => {
                if (chatInput.trim() !== '') {
                    const input = chatInput.trim();
                    // Add the user’s message to the log
                    setMessages(prev => [...prev, { from: 'user', text: input }]);
                    setChatInput('');
                    // Fetch AI reply
                    const reply = await getAIReply(input);
                    setMessages(prev => [...prev, { from: 'bot', text: reply }]);
                }
            };

            // Handle Enter key by delegating to handleChatSend()
            const handleChatKeyPress = (e) => {
                if (e.key === 'Enter') {
                    handleChatSend();
                }
            };

            return (
                <div>
                    <NavBar darkMode={darkMode} toggleDarkMode={toggleDarkMode} />
                    {/* Home section with a hero message */}
                    <Section id="home" title="">
                        <div className="hero">
                            <h1>Hello, I'm Diego Crisafulli</h1>
                            <p className="subtitle">Software & ML Engineer</p>
                            <p>Crafting cloud‑native solutions, web experiences, and immersive simulations.</p>
                            {/* Resume download button */}
                            <a href="Diego_Resume.pdf" className="button download‑btn" download>Download Resume</a>
                        </div>
                    </Section>
                    {/* About section describing Diego’s professional summary */}
                    <Section id="about" title="About">
                        <p>
                            I'm a multidisciplinary software engineer specializing in DevOps, full‑stack web development and
                            cloud automation. Over the past few years I've streamlined deployments, enhanced system
                            reliability and delivered AI‑driven solutions. I'm passionate about leveraging cutting‑edge
                            technologies to solve complex problems and love tackling new challenges.
                        </p>
                    </Section>
                    {/* Skills section listing grouped skills */}
                    <Section id="skills" title="Skills">
                        <ul className="skills‑list">
                            <li><strong>Cloud & DevOps:</strong> Azure, AWS (EC2, S3, Lambda), GitHub Actions, CI/CD, Infrastructure as Code</li>
                            <li><strong>Programming & Web:</strong> JavaScript, TypeScript, PowerShell, Python, C++, HTML5, CSS3</li>
                            <li><strong>Databases:</strong> MongoDB, SQL</li>
                            <li><strong>AI & Automation:</strong> OpenAI API, Generative AI, Prompt Engineering, Test Automation</li>
                            <li><strong>3D & Simulation:</strong> Unreal Engine, NVIDIA Omniverse, VR/AR Development</li>
                            <li><strong>Tools:</strong> Git, GitHub Copilot, Docker, SCTP, TLS, DPDK/VPP</li>
                        </ul>
                    </Section>
                    {/* Experience section summarizing career roles */}
                    <Section id="experience" title="Experience">
                        <div className="experience">
                            <div className="job">
                                <h3>Software Engineer (DevOps) – CAE</h3>
                                <span className="job‑date">May 2025 – Present</span>
                                <ul>
                                    <li>Developed and maintained automation pipelines with Azure and GitHub Actions, boosting deployment efficiency by 30%.</li>
                                    <li>Partnered with cross‑functional teams to optimize asset flow, reducing system downtime by 25%.</li>
                                    <li>Engineered cloud computing solutions using JavaScript and PowerShell, improving overall system reliability and scalability.</li>
                                </ul>
                            </div>
                            <div className="job">
                                <h3>IVR System Developer – CAE</h3>
                                <span className="job‑date">Sep 2024 – May 2025</span>
                                <ul>
                                    <li>Proposed continual improvements to IVR functionality and user experience, driving measurable gains in customer satisfaction.</li>
                                    <li>Developed and optimized automated test scripts (JavaScript, XML, JSON), boosting testing coverage and reducing defects.</li>
                                    <li>Analyzed test outcomes, identified root causes and collaborated with cross‑functional teams to enhance system reliability.</li>
                                </ul>
                            </div>
                            <div className="job">
                                <h3>Software Engineer Intern – CAE</h3>
                                <span className="job‑date">Oct 2023 – Sep 2024</span>
                                <ul>
                                    <li>Contributed to the Ondulus IR team, developing and testing advanced simulation technologies including night vision, LiDAR and infrared systems.</li>
                                    <li>Led C++ sensor testing processes and optimized algorithms to automate testing workflows.</li>
                                    <li>Created comprehensive test cases to validate physics‑based simulation modules under diverse conditions.</li>
                                </ul>
                            </div>
                            <div className="job">
                                <h3>Simulation Developer – Presagis</h3>
                                <span className="job‑date">Jun 2022 – Jun 2023</span>
                                <ul>
                                    <li>Coded simulations using NVIDIA Omniverse Isaac Sim, implementing machine‑learning, point‑cloud and lidar technology for AI solutions.</li>
                                    <li>Integrated USD workflows into Velocity5D and created digital twins with 3D modelling, texturing and mapping.</li>
                                    <li>Collaborated with developers and 3D artists; utilized Python for automation and tool development.</li>
                                </ul>
                            </div>
                            <div className="job">
                                <h3>3D Artist/Developer – Presagis</h3>
                                <span className="job‑date">Sep 2021 – Jun 2022</span>
                                <ul>
                                    <li>Built a library of custom 3D models, textures and animations using Unreal Engine, Omniverse and Blender.</li>
                                    <li>Employed Python scripting to streamline asset creation and optimize 3D workflows.</li>
                                    <li>Collaborated with cross‑functional teams to deliver visually engaging simulation assets.</li>
                                </ul>
                            </div>
                        </div>
                    </Section>
                    {/* Projects section highlighting major projects */}
                    <Section id="projects" title="Projects">
                        <div className="projects">
                            <div className="project">
                                <h3>VR Brain Installation</h3>
                                <p>
                                    Lead VR/AI Developer working with McGill University’s neuroscience team to translate authentic neural imaging data into an immersive VR experience. Built AI‑powered pipelines and optimized 3D environments in Unreal Engine for high‑fidelity visualization.
                                </p>
                            </div>
                            <div className="project">
                                <h3>The Actual Informer</h3>
                                <p>
                                    Full‑stack news summarization web app built with TypeScript, Node.js and Express, deployed on AWS. Integrated OpenAI’s API to rewrite and shorten articles, improving readability and engagement. Designed a responsive user interface with HTML5 and CSS3.
                                </p>
                            </div>
                        </div>
                        {/* Featured projects: highlight portfolio additions */}
                        <div className="featured-projects">
                            <div className="project-card">
                                <h3>Real-Time Dashboard</h3>
                                <p>
                                    A Python Dash application that streams and visualizes data in real time. Includes a data source selector
                                    and update-interval slider. View the code on
                                    {' '}
                                    <a href="https://github.com/diegocrisafu/realtime-dashboard" target="_blank" rel="noopener noreferrer">GitHub</a>.
                                </p>
                            </div>
                            <div className="project-card">
                                <h3>Expense Tracker</h3>
                                <p>
                                    A React-based expense tracker app with local persistence, deletion and a category pie chart. Open it directly
                                    via its <a href="https://diegocrisafu.github.io/expense/" target="_blank" rel="noopener noreferrer">live page</a> once
                                    GitHub Pages is enabled, or see the code on{' '}
                                    <a href="https://github.com/diegocrisafu/expense" target="_blank" rel="noopener noreferrer">GitHub</a>.
                                </p>
                            </div>
                        </div>
                    </Section>
                    {/* Education section listing academic background */}
                    <Section id="education" title="Education">
                        <div className="education">
                            <div className="school">
                                <h3>Concordia University</h3>
                                <span className="school‑date">2022 – Present</span>
                                <p>Double Major in Computational Design & Computer Science. Engaged in projects spanning 3D graphics, high‑performance computing and AI development.</p>
                            </div>
                            <div className="school">
                                <h3>Marianopolis College</h3>
                                <span className="school‑date">2020 – 2022</span>
                                <p>DEC in Commerce. Strengthened critical thinking and methodology skills with a focus on business and information systems.</p>
                            </div>
                        </div>
                    </Section>
                    {/* Contact section with simple contact info and call‑to‑action */}
                    <Section id="contact" title="Contact">
                        <p>
                            Feel free to reach out via email at <a href="mailto:diego.crisafu@gmail.com">diego.crisafu@gmail.com</a> or connect with me on <a href="https://www.linkedin.com/in/diegocrisafulli212bb0256" target="_blank" rel="noopener noreferrer">LinkedIn</a>.
                        </p>
                    </Section>
                    <footer className="footer">© {new Date().getFullYear()} Diego Crisafulli</footer>
                    {/* Floating chatbot component */}
                    <div className="chatbot-container">
                        {/* Chat icon toggles the chat window on click */}
                        <div
                            className="chat-icon"
                            role="button"
                            aria-label={chatOpen ? 'Close chat' : 'Open chat'}
                            tabIndex="0"
                            onClick={() => setChatOpen(!chatOpen)}
                        >
                            💬
                        </div>
                        {chatOpen && (
                            <div className="chat-window">
                                {/* Header with title, close and clear buttons */}
                                <div className="chat-window-header">
                                    <h4>Assistant</h4>
                                    <div className="chat-window-controls">
                                        <button
                                            className="chat-clear-btn"
                                            aria-label="Clear conversation"
                                            onClick={() =>
                                                setMessages([
                                                    {
                                                        from: 'bot',
                                                        text: "Hello! I'm your personal assistant. How can I help you?",
                                                    },
                                                ])
                                            }
                                        >
                                            Clear
                                        </button>
                                        <button
                                            className="chat-close-btn"
                                            aria-label="Close chat window"
                                            onClick={() => setChatOpen(false)}
                                        >
                                            ×
                                        </button>
                                    </div>
                                </div>
                                <div className="chat-messages">
                                    {messages.map((msg, idx) => (
                                        <div key={idx} className={`chat-message ${msg.from}`}>{msg.text}</div>
                                    ))}
                                </div>
                                {/* Input area with send button */}
                                <div className="chat-input-container">
                                    <input
                                        type="text"
                                        className="chat-input"
                                        placeholder="Type a message..."
                                        value={chatInput}
                                        onChange={(e) => setChatInput(e.target.value)}
                                        onKeyPress={handleChatKeyPress}
                                    />
                                    <button className="chat-send-btn" onClick={handleChatSend}>Send</button>
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        // Render the App component into the root div
        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
    
</body>
</html>